[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[build.environment]
  NETLIFY_NEXT_JS_RUNTIME = "4.36.1"
  NODE_VERSION = "20"
  NPM_FLAGS = "--legacy-peer-deps"

# Increase function timeout for large file uploads (max 26s for free tier, 10s default)
# For Pro/Enterprise: can be up to 26s (free) or longer
[functions]
  node_bundler = "esbuild"